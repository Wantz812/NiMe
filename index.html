<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Birinci AyÄ±mÄ±zÄ±n MÃ¶cÃ¼zÉ™si âœ¨</title>

  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
/* =========================
   MOBILE FIX PACK (ADD)
   ========================= */

/* iOS safe-area + real viewport */
:root{
  --safeT: env(safe-area-inset-top, 0px);
  --safeB: env(safe-area-inset-bottom, 0px);
  --safeL: env(safe-area-inset-left, 0px);
  --safeR: env(safe-area-inset-right, 0px);
}

/* MÉ™ÅŸhur â€œmobile 100vhâ€ bug fix: */
body{
  min-height: 100svh; /* iOS/Android yeni viewport */
}

/* Ãœmumi container-lar telefon Ã¼Ã§Ã¼n nÉ™fÉ™s alsÄ±n */
.container{
  padding-left: max(14px, var(--safeL));
  padding-right: max(14px, var(--safeR));
}

/* NAVBAR: mobilÉ™ dÃ¼ÅŸÉ™ndÉ™ Ã¼st-Ã¼stÉ™ gÉ™lmÉ™sin */
.nav-bar{
  gap: 10px;
  padding: 12px 12px;
  margin: 10px auto 16px;
}

/* Ã§ox sÉ™hifÉ™dÉ™ grid nav var: mobilÉ™ 1 sÃ¼tun */
@media (max-width: 560px){
  .nav-bar{
    grid-template-columns: 1fr !important;
    align-items: stretch;
  }
  .brand{ justify-content: flex-start; }
  .nav-center{ justify-content: flex-start; }
  .nav-actions{
    justify-content: flex-start;
    flex-wrap: wrap;
    gap: 8px;
  }
  .nav-link, .music-toggle{
    flex: 1 1 auto;
  }

  /* Theme switcher telefon Ã¼Ã§Ã¼n yuxarÄ±da Ã¶rtmÉ™sin */
  .theme-switcher{
    top: calc(10px + var(--safeT)) !important;
    right: 10px !important;
    transform: scale(.95);
  }

  /* BaÅŸlÄ±qlar mobil Ã¶lÃ§Ã¼ */
  h1{ font-size: clamp(1.6rem, 7vw, 2.2rem); }
  h2{ font-size: clamp(1.2rem, 5vw, 1.55rem); }

  /* Ã¼mumi bÃ¶lmÉ™lÉ™r: padding azalsÄ±n */
  .section{
    padding: 16px !important;
    border-radius: 16px !important;
  }
}

/* GRID/FLEX bloklar mobilÉ™ 1 sÃ¼tun */
@media (max-width: 720px){
  .hero, .card-flex{
    grid-template-columns: 1fr !important;
  }
  .stat-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}

/* Slider + iframe xÉ™ritÉ™ mobil hÃ¼ndÃ¼rlÃ¼yÃ¼ */
@media (max-width: 560px){
  .slider-container{ height: 240px !important; }
  iframe{ height: 240px !important; }
}

/* Input/buttonlar mobil tam en */
input, textarea, button{
  max-width: 100%;
}

/* ScrollTop dÃ¼ymÉ™si safe-area ilÉ™ yuxarÄ± qalsÄ±n */
#scrollTopBtn{
  bottom: calc(18px + var(--safeB)) !important;
  right: calc(16px + var(--safeR)) !important;
}

/* Intro (memories.html) mobil optimizasiya */
@media (max-width: 560px){
  .intro-card{
    border-radius: 22px !important;
    padding: 18px 14px 14px !important;
  }
  .intro-top{ gap: 10px; }
  .intro-heart{ width: 36px; height: 36px; border-radius: 12px; }
  .intro-badge strong{ font-size: 1.3rem; }
  .intro-title{ font-size: clamp(1.6rem, 7vw, 2.2rem) !important; }
  .intro-sub{ font-size: .98rem !important; }
}

/* Gift sÉ™hifÉ™si Ã¼Ã§Ã¼n (É™gÉ™r classlar eynidirsÉ™) mobil yÄ±ÄŸcamlÄ±q */
@media (max-width: 560px){
  .gift-grid{
    grid-template-columns: 1fr !important;
  }
  .gift{
    min-height: auto !important;
  }
}


    
    :root{
      --accent: #ff4d9d;

      --bg0: #070A12;
      --bg1: #0B1022;

      --text: rgba(255,255,255,.90);
      --muted: rgba(255,255,255,.68);
      --muted2: rgba(255,255,255,.52);

      --cardA: rgba(255,255,255,.10);
      --cardB: rgba(255,255,255,.06);

      --stroke: rgba(255,255,255,.12);
      --stroke2: rgba(255,255,255,.18);

      --shadow2: 0 16px 50px rgba(0,0,0,.30);

      --blur: blur(18px);
      --radius2: 26px;

      --meshA: rgba(255,77,157,.22);
      --meshB: rgba(61,123,253,.18);
      --meshC: rgba(47,191,113,.16);
      --meshD: rgba(255,214,10,.10);

      --safeTop: env(safe-area-inset-top, 0px);
      --safeBottom: env(safe-area-inset-bottom, 0px);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1100px 800px at 18% 16%, var(--meshA), transparent 55%),
        radial-gradient(900px 700px at 86% 20%, var(--meshB), transparent 58%),
        radial-gradient(900px 650px at 75% 92%, var(--meshC), transparent 60%),
        radial-gradient(700px 600px at 22% 90%, var(--meshD), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
      transition: filter .35s ease, background .35s ease;
    }

    body.mode-romantic{ filter: saturate(1.05) contrast(1.02); }
    body.mode-storm{ filter: saturate(1.08) contrast(1.05); }

    a{ color: inherit; text-decoration:none; }

    /* Aurora */
    .aurora{
      position: fixed;
      inset:-30vh -20vw;
      pointer-events:none;
      z-index:0;
      opacity:.72;
      filter: blur(22px) saturate(1.15);
      mix-blend-mode: screen;
    }
    .aurora::before, .aurora::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        conic-gradient(from 180deg at 40% 40%,
          rgba(255,77,157,.00),
          rgba(255,77,157,.32),
          rgba(50,173,230,.22),
          rgba(52,199,89,.18),
          rgba(255,214,10,.14),
          rgba(255,77,157,.26),
          rgba(255,77,157,.00)
        );
      animation: spin 26s linear infinite;
      transform-origin: 40% 40%;
    }
    .aurora::after{
      inset: 10% 15%;
      opacity:.68;
      animation-duration: 34s;
      transform-origin: 60% 60%;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    /* Grain */
    .grain{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
      opacity:.12;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='https://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
    }

    /* Xmas lights */
    .xmas-lights{
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 2;
      pointer-events: none;
      padding-top: calc(8px + var(--safeTop));
      opacity: .95;
    }
    .xmas-lights .wire{
      width: 100%;
      height: 26px;
      display:flex;
      justify-content: space-around;
      align-items: center;
      gap: 6px;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
    }
    .xmas-lights .bulb{
      width: 14px;
      height: 14px;
      border-radius: 999px;
      position: relative;
      opacity: .95;
      animation: blink 1.8s infinite alternate;
    }
    .xmas-lights .bulb::after{
      content:"";
      position:absolute;
      inset:-10px;
      border-radius: 999px;
      background: inherit;
      filter: blur(12px);
      opacity: .55;
    }
    .xmas-lights .bulb:nth-child(4n+1){ background: rgba(255,77,157,.95); animation-duration: 1.35s;}
    .xmas-lights .bulb:nth-child(4n+2){ background: rgba(255,214,10,.95); animation-duration: 1.9s;}
    .xmas-lights .bulb:nth-child(4n+3){ background: rgba(47,191,113,.95); animation-duration: 1.5s;}
    .xmas-lights .bulb:nth-child(4n+4){ background: rgba(61,123,253,.95); animation-duration: 2.1s;}
    @keyframes blink{ to{ opacity:.35; transform: translateY(1px) scale(.98);} }

    /* Snow */
    .snow-layer{
      position: fixed;
      inset: 0;
      z-index: 2;
      pointer-events:none;
      overflow:hidden;
      opacity: .95;
    }
    .snowflake{
      position: absolute;
      top: -12vh;
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: rgba(255,255,255,.95);
      filter: drop-shadow(0 0 10px rgba(255,255,255,.20));
      opacity: .85;
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
      will-change: transform;
    }
    @keyframes fall{ to{ transform: translate3d(var(--drift, 0px), 112vh, 0); } }

    /* âœ… Reveal (FIX: yalnÄ±z JS olanda gizlÉ™dir) */
    .reveal{ opacity: 1; transform: none; }
    html.js .reveal{
      opacity: 0;
      transform: translateY(10px) scale(.995);
      transition: opacity .6s ease, transform .7s ease;
      will-change: opacity, transform;
    }
    html.js .reveal.show{
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: calc(92px + var(--safeBottom));
      z-index: 5000;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.50);
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      color: rgba(255,255,255,.92);
      box-shadow: 0 18px 70px rgba(0,0,0,.40);
      opacity: 0;
      pointer-events: none;
      transition: opacity .25s ease, transform .25s ease;
      font-weight: 800;
      font-size: .9rem;
      max-width: min(92vw, 560px);
      text-align:center;
    }
    .toast.show{ opacity: 1; transform: translateX(-50%) translateY(-4px); }

    /* Scroll progress */
    .scroll-progress{
      position: fixed;
      top:0; left:0;
      width:100%;
      height: 3px;
      z-index: 9999;
      background: rgba(255,255,255,.06);
    }
    .scroll-progress-bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--accent), rgba(255,255,255,.85));
      box-shadow: 0 0 18px rgba(255,77,157,.45);
    }

    /* App shell */
    .app{
      position: relative;
      z-index: 3;
      max-width: 1100px;
      margin: 0 auto;
      padding: calc(14px + var(--safeTop)) 18px calc(120px + var(--safeBottom));
    }

    /* Top bar */
    .topbar{
      position: sticky;
      top: calc(10px + var(--safeTop));
      z-index: 120;
      display: grid;
      grid-template-columns: 1.1fr 1fr 1.3fr;
      gap: 12px;
      align-items: center;
      padding: 12px 14px;
      border-radius: 22px;
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--cardA), var(--cardB));
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      box-shadow: var(--shadow2);
    }

    .brand{ display:flex; align-items:center; gap: 12px; min-width: 0; }
    .brand-badge{
      width: 42px; height: 42px; border-radius: 14px;
      display:grid; place-items:center;
      background: linear-gradient(135deg, rgba(255,255,255,.18), rgba(255,255,255,.06));
      box-shadow: 0 18px 44px rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.22);
    }
    .brand-title{ display:flex; flex-direction: column; gap: 4px; min-width: 0; }
    .brand-title .name{
      font-family: "Dancing Script", cursive;
      font-size: 1.55rem;
      line-height: 1;
      letter-spacing: .2px;
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .chip{
      display:inline-flex; align-items:center; gap: 8px;
      padding: 6px 10px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: var(--muted);
      font-size: .84rem;
      width: fit-content;
    }
    .chip i{
      width: 6px; height: 6px; border-radius: 99px;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(0,0,0,.25);
      display:inline-block;
    }

    .center-actions{ display:flex; align-items:center; justify-content: center; gap: 10px; }

    /* âœ… GIFT - RGB SABÄ°T (NO ANIMATION) */
    .gift-nav-btn{
      position: relative;
      display: inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 0;
      border-radius: 999px;
      text-decoration:none;
      font-weight: 900;
      letter-spacing: .9px;
      color: #fff;
      isolation: isolate;
      transform: translateZ(0);
      transition: transform .18s ease, filter .18s ease;
    }
    .gift-nav-btn::before{
      content:"";
      position:absolute;
      inset:-18px;
      border-radius: inherit;
      background: conic-gradient(from 180deg,
        #ff2d55, #ff9f0a, #ffd60a, #34c759, #32ade6, #5856d6, #ff2d55
      );
      filter: blur(18px);
      opacity: .75;
      z-index: -2;
    }
    .gift-nav-btn::after{
      content:"";
      position:absolute;
      inset:-2px;
      border-radius: inherit;
      background: conic-gradient(from 180deg,
        #ff2d55, #ff9f0a, #ffd60a, #34c759, #32ade6, #5856d6, #ff2d55
      );
      z-index: -1;
      opacity: .92;
    }
    .gift-nav-btn .gift-inner{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(0,0,0,.62);
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: 0 22px 60px rgba(0,0,0,.35);
    }
    .gift-nav-btn:hover{ transform: translateY(-1px) scale(1.03); filter: brightness(1.04); }
    .gift-nav-btn:active{ transform: translateY(0) scale(.99); }

    .right-actions{ display:flex; justify-content: flex-end; align-items: center; gap: 10px; flex-wrap: wrap; }

    .nav-link{
      padding: 9px 12px;
      border-radius: 12px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      font-size: .86rem;
      display:inline-flex;
      align-items:center;
      gap: 8px;
      transition: transform .16s ease, background .16s ease, box-shadow .16s ease;
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
    }
    .nav-link:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.10);
      box-shadow: 0 14px 30px rgba(0,0,0,.22);
    }

    .music-toggle{
      border: 1px solid var(--stroke);
      border-radius: 999px;
      padding: 9px 12px;
      background: rgba(255,255,255,.06);
      color: #fff;
      display:inline-flex;
      align-items:center;
      gap: 8px;
      cursor:pointer;
      font-weight: 700;
      transition: transform .16s ease, background .16s ease, box-shadow .16s ease, border-color .16s ease;
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
    }
    .music-toggle.off{ color: rgba(255,255,255,.78); background: rgba(255,255,255,.05); }
    .music-toggle:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.10);
      box-shadow: 0 14px 30px rgba(0,0,0,.22);
      border-color: var(--stroke2);
    }

    /* Theme switcher */
    .theme-switcher{
      position: fixed;
      right: 14px;
      top: calc(14px + var(--safeTop));
      z-index: 300;
      padding: 10px;
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.25);
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      box-shadow: var(--shadow2);
      display:grid;
      grid-template-columns: repeat(2, 34px);
      gap: 8px;
    }
    .theme-switcher button{
      width: 34px; height: 34px;
      border-radius: 999px;
      border: 2px solid rgba(255,255,255,.30);
      cursor:pointer;
      transition: transform .14s ease, box-shadow .14s ease, border-color .14s ease;
    }
    .theme-switcher button:hover{
      transform: translateY(-1px) scale(1.04);
      box-shadow: 0 0 0 6px rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.55);
    }
    .theme-switcher button.active{
      border-color: rgba(255,255,255,.90);
      box-shadow: 0 0 0 6px rgba(255,255,255,.10), 0 0 26px rgba(0,0,0,.22);
      transform: scale(1.06);
    }

    /* Dock */
    .dock{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: calc(14px + var(--safeBottom));
      z-index: 220;
      width: min(760px, calc(100% - 22px));
      padding: 10px;
      border-radius: 22px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.32);
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      box-shadow: var(--shadow2);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }
    .dock .left{ display:flex; align-items:center; gap: 8px; flex-wrap: wrap; }
    .dock .dockbtn{
      display:inline-flex; align-items:center; justify-content:center; gap: 10px;
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.88);
      cursor:pointer;
      transition: transform .14s ease, background .14s ease;
      font-weight: 800;
      font-size: .88rem;
      white-space: nowrap;
      user-select:none;
    }
    .dock .dockbtn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }
    .dock .dockbtn:active{ transform: translateY(0) scale(.99); }

    .dock .mini{
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      font-size: .86rem;
      display:flex;
      align-items:center;
      gap: 8px;
      min-width: 0;
    }
    .dock .mini b{ color: rgba(255,255,255,.92); font-weight: 900; }

    /* Scroll top */
    #scrollTopBtn{
      position: fixed;
      right: 16px;
      bottom: calc(92px + var(--safeBottom));
      z-index: 250;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.35);
      color: #fff;
      padding: 10px 12px;
      border-radius: 14px;
      font-weight: 900;
      cursor:pointer;
      box-shadow: var(--shadow2);
      display:none;
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      transition: transform .14s ease, background .14s ease;
    }
    #scrollTopBtn:hover{ transform: translateY(-1px); background: rgba(0,0,0,.45); }
    #scrollTopBtn.show{ display:block; }

    /* Sections */
    .section{
      margin-top: 18px;
      border-radius: var(--radius2);
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--cardA), var(--cardB));
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      box-shadow: var(--shadow2);
      overflow: hidden;
    }
    .section .inner{ padding: 20px; }

    /* Hero */
    .hero .inner{
      padding: 22px;
      display:grid;
      grid-template-columns: 1.25fr .95fr;
      gap: 16px;
      align-items: stretch;
    }
    .hero .spot{
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      box-shadow: 0 20px 60px rgba(0,0,0,.25);
      padding: 18px;
      position: relative;
      overflow: hidden;
    }
    .hero .spot::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(600px 260px at 30% 20%, rgba(255,77,157,.24), transparent 60%),
                  radial-gradient(600px 260px at 70% 80%, rgba(61,123,253,.22), transparent 60%);
      opacity: .70;
      filter: blur(18px);
      z-index: 0;
    }
    .hero .spot > *{ position: relative; z-index: 1; }

    .kicker{
      display:inline-flex; align-items:center; gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      color: var(--muted);
      width: fit-content;
      font-size: .86rem;
    }
    .kicker .dot{
      width: 8px; height: 8px; border-radius: 99px;
      background: var(--accent);
      box-shadow: 0 0 14px rgba(0,0,0,.25);
    }

    h1{
      margin: 10px 0 8px;
      font-family: "Playfair Display", serif;
      font-size: clamp(2.0rem, 3.7vw, 2.85rem);
      letter-spacing: -0.6px;
      line-height: 1.1;
    }
    .lead{
      margin: 0;
      color: var(--muted);
      line-height: 1.7;
      min-height: 3.2em;
    }

    .hero-actions{ margin-top: 14px; display:flex; gap: 10px; flex-wrap: wrap; }
    .btn{
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 14px;
      padding: 11px 14px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      cursor:pointer;
      font-weight: 900;
      transition: transform .14s ease, background .14s ease, box-shadow .14s ease, filter .14s ease;
      user-select:none;
      white-space: nowrap;
    }
    .btn-primary{
      background: linear-gradient(135deg, rgba(255,77,157,.40), rgba(255,255,255,.18));
      color: #fff;
      box-shadow: 0 20px 60px rgba(0,0,0,.25);
    }
    .btn-primary:hover{ transform: translateY(-1px); filter: brightness(1.04); }
    .btn-ghost{ background: rgba(255,255,255,.06); color: rgba(255,255,255,.90); }
    .btn-ghost:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); box-shadow: 0 18px 50px rgba(0,0,0,.22); }
    .btn:active{ transform: translateY(0) scale(.99); }

    /* Timer card */
    .stats{
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      padding: 18px;
      box-shadow: 0 20px 60px rgba(0,0,0,.25);
      display:flex;
      flex-direction: column;
      justify-content: space-between;
      gap: 12px;
    }
    .stats h3{
      margin:0;
      font-size: 1.05rem;
      letter-spacing: .2px;
      color: rgba(255,255,255,.90);
      font-weight: 900;
    }
    .stat-grid{ display:grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 10px; }
    .time-box{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      padding: 12px 10px;
      text-align:center;
    }
    .time-val{ font-family: "Playfair Display", serif; font-size: 1.55rem; color: #fff; }
    .time-label{ color: var(--muted2); font-size: .78rem; letter-spacing: 1px; margin-top: 2px; }

    /* Grid panels */
    .grid2{ display:grid; grid-template-columns: 1.05fr .95fr; gap: 14px; align-items: stretch; }
    .panel{
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      padding: 18px;
      box-shadow: 0 20px 60px rgba(0,0,0,.22);
      overflow: hidden;
    }
    .h2{
      margin:0;
      font-family: "Playfair Display", serif;
      font-size: 1.55rem;
      letter-spacing: -0.3px;
      color: rgba(255,255,255,.92);
    }
    .note{
      margin: 10px 0 0;
      color: var(--muted);
      font-family: "Dancing Script", cursive;
      font-size: 1.35rem;
      line-height: 1.6;
    }

    /* Slider */
    .slider-container{
      position: relative;
      height: 360px;
      border-radius: 22px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 18px 60px rgba(0,0,0,.30);
      background: rgba(0,0,0,.25);
    }
    .slide{
      position:absolute; inset:0;
      width:100%; height:100%;
      object-fit: cover;
      opacity:0;
      transform: scale(1.05);
      transition: opacity .65s ease, transform 1.0s ease;
      filter: saturate(1.05) contrast(1.02);
      will-change: opacity, transform;
    }
    .slide.active{ opacity:1; transform: scale(1.0); }

    .slider-btn{
      position:absolute; top:50%;
      transform: translateY(-50%);
      width: 42px; height: 42px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.35);
      color: #fff;
      cursor:pointer;
      display:grid;
      place-items:center;
      font-size: 1.2rem;
      z-index: 5;
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      transition: transform .14s ease, background .14s ease;
    }
    .slider-btn:hover{ transform: translateY(-50%) scale(1.03); background: rgba(0,0,0,.48); }
    .slider-btn.prev{ left: 12px; }
    .slider-btn.next{ right: 12px; }

    /* Promises */
    .vows-list{ list-style:none; padding:0; margin: 14px 0 0; display:grid; gap: 10px; }
    .vows-list li{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      padding: 12px 12px;
      color: rgba(255,255,255,.90);
      display:flex;
      gap: 10px;
      align-items:flex-start;
      line-height: 1.6;
      position: relative;
      overflow:hidden;
    }
    .vows-list li::after{
      content:"";
      position:absolute;
      left:0; top:0; bottom:0;
      width: 3px;
      background: linear-gradient(180deg, var(--accent), rgba(255,255,255,.0));
      opacity: .9;
    }

    .compliment-box{ display:flex; flex-direction: column; gap: 12px; }
    .compliment-text{
      margin: 0;
      padding: 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.90);
      line-height: 1.7;
      min-height: 3.5em;
    }

    /* Secret + note */
    .lock-grid{ display:grid; grid-template-columns: 1fr 1fr; gap: 14px; align-items: stretch; }
    label{ color: var(--muted); font-weight: 800; font-size: .92rem; }
    input, textarea{
      width:100%;
      margin-top: 10px;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: #fff;
      outline: none;
      font-family: inherit;
      transition: border-color .14s ease, box-shadow .14s ease, background .14s ease;
    }
    textarea{ min-height: 140px; resize: vertical; }
    .secret-message{
      margin-top: 14px;
      padding: 16px;
      border-radius: 20px;
      border: 1px dashed rgba(255,255,255,.22);
      background: rgba(255,77,157,.12);
      color: rgba(255,255,255,.92);
    }
    .hidden{ display:none; }

    /* Floating hearts */
    .floating-heart{
      position: fixed;
      z-index: 1;
      color: rgba(255,77,157,0.09);
      font-size: 20px;
      animation: floatUp linear infinite;
      pointer-events:none;
      will-change: transform, opacity;
    }
    @keyframes floatUp{
      from{ transform: translateY(110vh) rotate(0deg); opacity: 1; }
      to{ transform: translateY(-15vh) rotate(360deg); opacity: 0; }
    }

    /* Intro */
    body.intro-lock{ overflow:hidden; }
    .intro-overlay{
      position: fixed;
      inset:0;
      z-index: 6000;
      display: grid;
      place-items:center;
      padding: 18px;
      background:
        radial-gradient(900px 700px at 20% 20%, var(--meshA), transparent 55%),
        radial-gradient(800px 650px at 85% 25%, var(--meshB), transparent 55%),
        radial-gradient(900px 650px at 70% 90%, var(--meshC), transparent 60%),
        rgba(0,0,0,.55);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      animation: introFade .45s ease both;
    }
    @keyframes introFade{ from{opacity:0;} to{opacity:1;} }

    .intro-card{
      width: min(760px, 100%);
      border-radius: 28px;
      border: 1px solid rgba(255,255,255,.16);
      background: linear-gradient(180deg, var(--cardA), var(--cardB));
      box-shadow: 0 34px 120px rgba(0,0,0,.50);
      overflow:hidden;
      position: relative;
    }
    .intro-card .inner{ padding: 22px; }
    .intro-title{
      margin: 8px 0 6px;
      font-family: "Playfair Display", serif;
      font-size: clamp(1.7rem, 3.4vw, 2.3rem);
      letter-spacing: -.6px;
    }
    .intro-sub{ margin: 0; color: var(--muted); line-height: 1.7; }
    .intro-actions{ margin-top: 16px; display:flex; gap: 10px; flex-wrap: wrap; }

    .footer{ margin-top: 18px; text-align:center; color: rgba(255,255,255,.55); font-size: .9rem; }

    @media (max-width: 860px){
      .topbar{ grid-template-columns: 1fr; }
      .center-actions{ justify-content:flex-start; }
      .right-actions{ justify-content:flex-start; }
      .hero .inner{ grid-template-columns: 1fr; }
      .grid2{ grid-template-columns: 1fr; }
      .lock-grid{ grid-template-columns: 1fr; }
      .theme-switcher{ top: calc(70px + var(--safeTop)); }
    }
    @media (max-width: 520px){
      .stat-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
      #scrollTopBtn{ bottom: calc(104px + var(--safeBottom)); }
    }
  </style>
</head>

<body>
  <script>
    /* âœ… JS start marker (reveal fix) */
    document.documentElement.classList.add('js');
  </script>

  <div class="aurora" id="aurora"></div>
  <div class="grain" id="grain"></div>

  <div class="xmas-lights" aria-hidden="true" id="xmasLights">
    <div class="wire">
      <span class="bulb"></span><span class="bulb"></span><span class="bulb"></span><span class="bulb"></span><span class="bulb"></span>
      <span class="bulb"></span><span class="bulb"></span><span class="bulb"></span><span class="bulb"></span><span class="bulb"></span>
      <span class="bulb"></span><span class="bulb"></span><span class="bulb"></span><span class="bulb"></span><span class="bulb"></span>
      <span class="bulb"></span><span class="bulb"></span><span class="bulb"></span><span class="bulb"></span><span class="bulb"></span>
    </div>
  </div>

  <div class="snow-layer" id="snowLayer" aria-hidden="true"></div>
  <div class="toast" id="toast"></div>

  <div class="scroll-progress">
    <div class="scroll-progress-bar" id="scroll-progress-bar"></div>
  </div>

  <audio id="bg-music" loop
    src="https://cdn.pixabay.com/download/audio/2022/11/29/audio_9c1c2e7e86.mp3?filename=christmas-music-127502.mp3">
  </audio>

  <div class="theme-switcher" aria-label="TemanÄ± seÃ§">
    <button id="theme-pink" style="background:#ff4d9d" onclick="setTheme('pink')" title="Romantik"></button>
    <button id="theme-blue" style="background:#3d7bfd" onclick="setTheme('blue')" title="Sakit"></button>
    <button id="theme-green" style="background:#2fbf71" onclick="setTheme('green')" title="TÉ™biÉ™t"></button>
    <button id="theme-night" style="background:#1b1b2f" onclick="setTheme('night')" title="GecÉ™"></button>
  </div>

  <!-- INTRO -->
  <div class="intro-overlay" id="introOverlay" aria-hidden="true" style="display:none;">
    <div class="intro-card">
      <div class="inner">
        <div class="kicker"><span class="dot" style="display:inline-block;width:8px;height:8px;border-radius:99px;background:var(--accent);"></span> XoÅŸ gÉ™ldin âœ¨</div>
        <div class="intro-title">Birinci AyÄ±mÄ±zÄ±n MÃ¶cÃ¼zÉ™si</div>
        <p class="intro-sub">
          Bu sÉ™hifÉ™: xatirÉ™lÉ™r, ÅŸifrÉ™li mÉ™ktub, not, sayÄŸac vÉ™ sÃ¼rprizlÉ™r Ã¼Ã§Ã¼n â€œpremiumâ€ mini-app kimidir.
          Ä°stÉ™sÉ™n musiqi ilÉ™, istÉ™sÉ™n sÉ™ssiz daxil ol ğŸ’—
        </p>
        <div class="intro-actions">
          <button class="btn btn-primary" type="button" onclick="__introStart(true)">ğŸµ Musiqi ilÉ™ daxil ol</button>
          <button class="btn btn-ghost" type="button" onclick="__introStart(false)">ğŸš€ SÉ™ssiz daxil ol</button>
          <a class="btn btn-ghost" href="gift.html" onclick="localStorage.setItem('introSeen','true')">ğŸ BirbaÅŸa GIFT</a>
        </div>
      </div>
    </div>
  </div>

  <button id="scrollTopBtn" onclick="scrollToTop()">â†‘</button>

  <!-- âœ… ÆSAS SÆHÄ°FÆ CONTENT (BU HÄ°SSÆ MÃœTLÆQ OLMALIDIR!) -->
  <div class="app" id="appRoot">
    <div class="topbar reveal">
      <div class="brand">
        <div class="brand-badge">â¤ï¸</div>
        <div class="brand-title">
          <div class="name">M & N</div>
          <div class="chip" id="days-chip"><i></i> 0 gÃ¼n birlikdÉ™yik</div>
        </div>
      </div>

      <div class="center-actions">
        <a class="gift-nav-btn" href="gift.html">
          <span class="gift-inner"><span>ğŸ</span><span>GIFT</span></span>
        </a>
      </div>

      <div class="right-actions">
        <a class="nav-link" href="game.html">ğŸ® Mini Oyunlar</a>
        <a class="nav-link" href="memories.html">ğŸ–¼ï¸ XatirÉ™lÉ™r</a>
        <a class="nav-link" href="capsule.html">â³ Zaman Kapsulu</a>
        <a class="nav-link" href="bucketlist.html">âœ¨ BirlikdÉ™ EdÉ™cklÉ™rimiz</a>
        <a class="nav-link" href="puzzle.html">ğŸ§© Puzzle</a>
        <button class="music-toggle off" id="music-toggle-btn" type="button">
          <span id="music-icon">ğŸ”‡</span><span id="music-label">Musiqi</span>
        </button>
      </div>
    </div>

    <section class="section hero reveal">
      <div class="inner">
        <div class="spot">
          <div class="kicker"><span class="dot"></span> ilk ayÄ±mÄ±z </div>
          <h1>1-ci AyÄ±mÄ±z MÃ¼barÉ™k, sevgilimm! âœ¨</h1>
          <p class="lead" id="main-subtitle"></p>

          <div class="hero-actions">
            <a class="btn btn-primary" href="https://wa.me/994000000000" target="_blank">ğŸ’¬ DÃ¼ÅŸÃ¼nÉ™ndÉ™ dÉ™rhal yazÄ±m</a>
            <a class="btn btn-ghost" href="#letter">ğŸ’Œ Ã‡iÃ§É™klÉ™nÉ™n MÉ™ktub</a>
            <a class="btn btn-ghost" href="#gallery">ğŸ“¸ Qalereya</a>
          </div>
        </div>

        <div class="stats">
          <h3>Sevgi StatlarÄ±</h3>
          <div class="stat-grid" id="timer"></div>
          <div style="color:var(--muted2); font-size:.86rem; line-height:1.6;">ğŸ’— Bu sayÄŸac hÉ™r saniyÉ™ â€œbizâ€i yenilÉ™yir.</div>
        </div>
      </div>
    </section>

    <section class="section reveal" id="gallery">
      <div class="inner">
        <div class="grid2">
          <div class="panel">
            <div class="h2">Æn Åirin XatirÉ™lÉ™r</div>
            <p class="note">"HÉ™r ÅŸÉ™kil sÉ™ndÉ™n gÉ™lÉ™n iÅŸÄ±ÄŸÄ±n kiÃ§ik aynasÄ±dÄ±r."</p>
            <div style="margin-top:14px; color:var(--muted); line-height:1.7;">
              SaÄŸdakÄ± slider avtomatik keÃ§ir, istÉ™sÉ™n dÃ¼ymÉ™ ilÉ™ dÉ™yiÅŸ.
            </div>
          </div>

          <div class="panel" style="padding:14px;">
            <div class="slider-container" id="slider-container">
              <button class="slider-btn prev" onclick="changeSlide(-1)">â®</button>
              <button class="slider-btn next" onclick="changeSlide(1)">â¯</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section reveal" id="promises">
      <div class="inner">
        <div class="grid2">
          <div class="panel">
            <div class="h2">GÉ™lÉ™cÉ™yÉ™ dair SÃ¶zlÉ™rim</div>
            <ul class="vows-list">
              <li>ğŸ“Œ HÉ™r gÃ¼nÃ¼nÃ¼ daha rahat, daha gÃ¼lÃ¼msÉ™r etmÉ™k Ã¼Ã§Ã¼n É™limdÉ™n gÉ™lÉ™ni edÉ™cÉ™yÉ™m.</li>
              <li>ğŸ“Œ Yeni yerlÉ™r kÉ™ÅŸf edib, xatirÉ™lÉ™rimizin xÉ™ritÉ™sini bÃ¶yÃ¼dÉ™cÉ™yik.</li>
              <li>ğŸ“Œ SÉ™nin etmÉ™ dediyini etmÉ™yÉ™cÉ™yÃ¶m, Ã§Ã¼nki sÉ™nin rahatlÄ±ÄŸÄ±n mÉ™nim Ã¼Ã§Ã¼n Ã¶nÉ™mlidir.</li>
              <li>ğŸ“Œ SÉ™ni dinlÉ™mÉ™k, dÉ™stÉ™klÉ™mÉ™k, sÉ™nÉ™ gÃ¼vÉ™nmÉ™k â€“ bÃ¼tÃ¼n planlarÄ±n mÉ™rkÉ™zinÉ™ sÉ™ni qoymaq.</li>
            </ul>
          </div>

          <div class="panel compliment-box">
            <div class="h2">HazÄ±r Kompliment Qutusu ğŸ˜Œ</div>
            <p class="compliment-text" id="compliment-text">SÉ™nin sÉ™sini eÅŸidÉ™ndÉ™, É™n yorÄŸun gÃ¼nÃ¼m belÉ™ tÉ™tilÉ™ Ã§evrilir.</p>
            <button class="btn btn-primary" type="button" onclick="showCompliment()">âœ¨ Yeni cÃ¼mlÉ™ gÉ™tir</button>
            <div style="color:var(--muted2); font-size:.86rem;">Bir klik â€” yeni romantik cÃ¼mlÉ™.</div>
          </div>
        </div>
      </div>
    </section>

    <section class="section reveal" id="letter">
      <div class="inner">
        <div class="h2">ÅifrÉ™li Mesaj vÉ™ SaxlanÄ±lan Not</div>
        <p style="margin:10px 0 0; color:var(--muted); line-height:1.7;">
          Bu mesaj yalnÄ±z MÉ™ryÉ™m Ã¼Ã§Ã¼n aÃ§Ä±lÄ±r. CavabÄ± tap, sonra Ã¶z qeydlÉ™rimizi É™bÉ™di saxla.
        </p>

        <div class="lock-grid" style="margin-top:14px;">
          <div class="panel">
            <label for="secret-input">Ä°lk gÃ¶rÃ¼ÅŸdÃ¼yÃ¼mÃ¼z gÃ¼n hansÄ±dÄ±r?</label>
            <input type="text" id="secret-input" placeholder="Cavab (MÉ™s: 19 iyul)">
            <button class="btn btn-primary" style="margin-top:10px;" type="button" onclick="checkPassword()">AÃ§</button>

            <div id="secret-message" class="secret-message hidden">
              <h3 style="margin:0 0 8px; font-family:'Playfair Display',serif;">SÉ™ninlÉ™ keÃ§É™n hÉ™r gÃ¼n Ã¶zÉ™ldir!</h3>
              <p style="margin:0; color:rgba(255,255,255,.88); line-height:1.7;">
                ArtÄ±q bir ayÄ±mÄ±z tamamdÄ±r. HÉ™r gÃ¼nÃ¼mÉ™ qatdÄ±ÄŸÄ±n mÉ™na Ã¼Ã§Ã¼n minnÉ™tdaram. SÉ™n mÉ™nim É™n bÃ¶yÃ¼k xoÅŸbÉ™xtliyimsÉ™n vÉ™ bu hekayÉ™nin hÉ™lÉ™ ilk fÉ™slidir.
                SÉ™ni hÉ™yatÄ±mÄ±n sonuna qÉ™dÉ™r sevmÉ™yÉ™ sÃ¶z verirÉ™m.
              </p>
              <p style="font-family:'Dancing Script',cursive; font-size:1.9rem; text-align:right; margin:10px 0 0;">Nihad.</p>
            </div>
          </div>

          <div class="panel">
            <div class="h2">Son yazdÄ±ÄŸÄ±n sÉ™tir silinmÉ™sin âœï¸</div>
            <p style="margin:10px 0 0; color:var(--muted); line-height:1.7;">
              Burada yazdÄ±ÄŸÄ±n cÃ¼mlÉ™lÉ™r avtomatik yadda qalÄ±r.
            </p>
            <textarea class="text-area" id="personal-note" placeholder="SÉ™n yaz, mÉ™n hÉ™r dÉ™fÉ™ oxuyum..."></textarea>
          </div>
        </div>
      </div>
    </section>

    <section class="section reveal" id="map">
      <div class="inner">
        <div class="grid2">
          <div class="panel">
            <div class="h2">ğŸ“ HÉ™r ÅŸeyin baÅŸladÄ±ÄŸÄ± yer</div>
            <p class="note">Bu nÃ¶qtÉ™ bizim hekayÉ™mizin baÅŸlanÄŸÄ±cÄ±dÄ±r.</p>
            <p style="margin:10px 0 0; color:var(--muted); line-height:1.7;">
              ilk baÅŸ-baÅŸa gÃ¶rÃ¼ÅŸÃ¼ÅŸdÃ¼yÃ¼mÃ¼z gÃ¼n demeli hÉ™rÅŸeyin baÅŸladnÄ±cÄ± OHM)) 
            </p>
          </div>

          <div class="panel" style="padding:14px;">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d2744.4543784725292!2d50.022387756932005!3d40.52566165646419!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zNDDCsDMxJzMyLjQiTiA1MMKwMDEnMjYuNyJF!5e1!3m2!1str!2saz!4v1765174421741!5m2!1str!2saz"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              style="width:100%;height:300px;border:0;border-radius:22px;">
            </iframe>
          </div>
        </div>
        <div class="footer reveal">Bu gÃ¶zÉ™l gÃ¼nÉ™ bir hÉ™diyyÉ™dir â€“ hÉ™r giriÅŸindÉ™ iÃ§i aÃ§Ä±lsÄ±n ğŸ’—</div>
      </div>
    </section>

    <!-- âœ… SÆNÄ°N DEDÄ°YÄ°N LAZIMSIZ ALT HÄ°SSÆ YOXDUR -->
  </div>

  <div class="dock" aria-label="Quick actions">
    <div class="left">
      <button class="dockbtn" type="button" onclick="scrollToTop()">â¬†ï¸ YuxarÄ±</button>
      <a class="dockbtn" href="gift.html">ğŸ Gift</a>
      <button class="dockbtn" type="button" id="weatherBtn" title="Normal / Romantik / Qar fÄ±rtÄ±nasÄ±">ğŸŒ¨ï¸ Normal</button>
    </div>
    <div class="mini" title="Status">
      <span>ğŸ’—</span> <span>Bu gÃ¼n: <b id="dockDays">0 gÃ¼n</b></span>
    </div>
  </div>

  <script>
    // Start date: 08.11.2025
    const startDate = new Date(2025, 10, 8);
    const correctPassword = '9noyabr'; '9 noyabr';
    const sliderImages = [
      "https://i.ibb.co/CR3fK0c/Whats-App-mage-2025-12-08-at-11-22-39.jpg",
      "https://i.ibb.co/dwwzhbTH/Whats-App-mage-2025-12-08-at-10-16-21.jpg",
      "https://i.ibb.co/gZP7VL80/Whats-App-mage-2025-12-08-at-11-22-38.jpg"
    ];

    const perf = (() => {
      const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const saveData = navigator.connection && navigator.connection.saveData;
      const cores = navigator.hardwareConcurrency || 8;
      const low = reduceMotion || saveData || cores <= 4;
      return { low };
    })();

    const themes = {
      pink:  { accent:'#ff4d9d', bg0:'#070A12', bg1:'#0B1022', cardA:'rgba(255,255,255,.10)', cardB:'rgba(255,255,255,.06)', stroke:'rgba(255,255,255,.12)', stroke2:'rgba(255,255,255,.18)', meshA:'rgba(255,77,157,.24)', meshB:'rgba(61,123,253,.16)', meshC:'rgba(47,191,113,.14)', meshD:'rgba(255,214,10,.10)' },
      blue:  { accent:'#3d7bfd', bg0:'#060B16', bg1:'#07162B', cardA:'rgba(210,230,255,.12)', cardB:'rgba(210,230,255,.06)', stroke:'rgba(210,230,255,.16)', stroke2:'rgba(210,230,255,.22)', meshA:'rgba(61,123,253,.24)', meshB:'rgba(50,173,230,.18)', meshC:'rgba(47,191,113,.10)', meshD:'rgba(255,77,157,.08)' },
      green: { accent:'#2fbf71', bg0:'#06120C', bg1:'#071C12', cardA:'rgba(210,255,230,.12)', cardB:'rgba(210,255,230,.06)', stroke:'rgba(210,255,230,.16)', stroke2:'rgba(210,255,230,.22)', meshA:'rgba(47,191,113,.24)', meshB:'rgba(61,123,253,.12)', meshC:'rgba(255,214,10,.10)', meshD:'rgba(255,77,157,.08)' },
      night: { accent:'#ffb6c1', bg0:'#05030B', bg1:'#0B0622', cardA:'rgba(255,255,255,.09)', cardB:'rgba(255,255,255,.05)', stroke:'rgba(255,255,255,.11)', stroke2:'rgba(255,255,255,.18)', meshA:'rgba(255,182,193,.18)', meshB:'rgba(88,86,214,.16)', meshC:'rgba(50,173,230,.12)', meshD:'rgba(255,77,157,.08)' }
    };

    let toastTimer = null;
    function showToast(text){
      const t = document.getElementById('toast');
      if(!t) return;
      t.textContent = text;
      t.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => t.classList.remove('show'), 1400);
    }

    function setTheme(name){
      const t = themes[name];
      if(!t) return;
      const root = document.documentElement;

      root.style.setProperty('--accent', t.accent);
      root.style.setProperty('--bg0', t.bg0);
      root.style.setProperty('--bg1', t.bg1);
      root.style.setProperty('--cardA', t.cardA);
      root.style.setProperty('--cardB', t.cardB);
      root.style.setProperty('--stroke', t.stroke);
      root.style.setProperty('--stroke2', t.stroke2);
      root.style.setProperty('--meshA', t.meshA);
      root.style.setProperty('--meshB', t.meshB);
      root.style.setProperty('--meshC', t.meshC);
      root.style.setProperty('--meshD', t.meshD);

      document.querySelectorAll('.theme-switcher button').forEach(b => b.classList.remove('active'));
      const activeBtn = document.getElementById(`theme-${name}`);
      if(activeBtn) activeBtn.classList.add('active');

      localStorage.setItem('websiteTheme', name);
      showToast(`ğŸ¨ Tema dÉ™yiÅŸdi: ${name}`);
    }

    const savedTheme = localStorage.getItem('websiteTheme') || 'pink';
    setTheme(savedTheme);

    // Music (âœ… null-check: sayt Ã§Ã¶kmÉ™sin)
    const music = document.getElementById('bg-music');
    const musicToggleBtn = document.getElementById('music-toggle-btn');
    const musicIcon = document.getElementById('music-icon');
    const musicLabel = document.getElementById('music-label');
    let musicOn = localStorage.getItem('musicOn') === 'true';

    function updateMusicUI(isOn){
      if(!musicToggleBtn || !musicIcon || !musicLabel) return;
      if(isOn){
        musicToggleBtn.classList.remove('off');
        musicIcon.textContent = 'ğŸµ';
        musicLabel.textContent = 'SÉ™slÉ™';
      }else{
        musicToggleBtn.classList.add('off');
        musicIcon.textContent = 'ğŸ”‡';
        musicLabel.textContent = 'SÉ™ssiz';
      }
    }
    updateMusicUI(musicOn);

    if(musicToggleBtn){
      musicToggleBtn.addEventListener('click', () => {
        musicOn = !musicOn;
        localStorage.setItem('musicOn', musicOn ? 'true' : 'false');
        updateMusicUI(musicOn);
        if(music && musicOn){ music.play().catch(()=>{}); }
        if(music && !musicOn){ music.pause(); }
      });
    }

    // Timer
    function updateTimer(){
      const now = new Date();
      const diff = now - startDate;

      const days = Math.max(0, Math.floor(diff / (1000*60*60*24)));
      const hours = Math.max(0, Math.floor((diff / (1000*60*60)) % 24));
      const minutes = Math.max(0, Math.floor((diff / (1000*60)) % 60));
      const seconds = Math.max(0, Math.floor((diff / 1000) % 60));

      const timerEl = document.getElementById('timer');
      if(timerEl){
        timerEl.innerHTML = `
          <div class="time-box"><div class="time-val">${days}</div><div class="time-label">GÃœN</div></div>
          <div class="time-box"><div class="time-val">${hours}</div><div class="time-label">SAAT</div></div>
          <div class="time-box"><div class="time-val">${minutes}</div><div class="time-label">DÆQ</div></div>
          <div class="time-box"><div class="time-val">${seconds}</div><div class="time-label">SAN</div></div>
        `;
      }

      const daysChip = document.getElementById('days-chip');
      if(daysChip) daysChip.innerHTML = `<i></i> ${days} gÃ¼n birlikdÉ™yik`;

      const dockDays = document.getElementById('dockDays');
      if(dockDays) dockDays.textContent = `${days} gÃ¼n`;
    }
    setInterval(updateTimer, 1000);
    updateTimer();

    // Secret
    function checkPassword(){
      const input = (document.getElementById('secret-input')?.value || "")
        .toLowerCase().trim().replace(/\s/g,'');

      const msg = document.getElementById('secret-message');

      // âœ… FIX: cavab yazÄ±lmazdan É™vvÉ™l bÃ¶lmÉ™ gÃ¶rÃ¼nmÉ™sin
      if(msg) msg.classList.add('hidden');

      if(input === correctPassword){
        if(msg) msg.classList.remove('hidden');
        showToast("âœ… AÃ§Ä±ldÄ± ğŸ’—");
      }else{
        alert('YalnÄ±ÅŸ cavab. Bir daha dÃ¼ÅŸÃ¼n! (MÉ™s: 9 oktyabr)');
        showToast("âŒ YalnÄ±ÅŸdÄ±r");
      }
    }
    
    window.checkPassword = checkPassword;

    // Slider
    let currentSlideIndex = 0;
    const sliderContainer = document.getElementById('slider-container');
    function loadSlides(){
      if(!sliderContainer) return;
      const frag = document.createDocumentFragment();
      sliderImages.forEach((url, index) => {
        const img = document.createElement('img');
        img.src = url;
        img.classList.add('slide');
        if(index === 0) img.classList.add('active');
        frag.appendChild(img);
      });
      sliderContainer.appendChild(frag);
    }
    function showSlide(index){
      const slides = document.querySelectorAll('.slide');
      if(!slides.length) return;
      slides.forEach(s => s.classList.remove('active'));

      if(index >= slides.length) currentSlideIndex = 0;
      else if(index < 0) currentSlideIndex = slides.length - 1;
      else currentSlideIndex = index;

      slides[currentSlideIndex].classList.add('active');
    }
    function changeSlide(n){ showSlide(currentSlideIndex + n); }
    window.changeSlide = changeSlide;

    loadSlides();
    setInterval(() => changeSlide(1), 5000);

    // Compliments
    const compliments = [
      "SÉ™nin gÃ¼lÃ¼ÅŸÃ¼n É™n sÄ±xÄ±cÄ± gÃ¼nÃ¼ belÉ™ bayrama Ã§evirir.",
      "MÉ™nim Ã¼Ã§Ã¼n 'xoÅŸbÉ™xtlik' sÃ¶zÃ¼nÃ¼n tÉ™rifi â€“ sadÉ™cÉ™ sÉ™nin adÄ±ndÄ±r.",
      "SÉ™ni gÃ¶rdÃ¼yÃ¼m gÃ¼ndÉ™n sonra, tÉ™sadÃ¼fÉ™ inanmaÄŸa baÅŸladÄ±m.",
      "Æn sevdiyim mÉ™kan â€“ sÉ™nin yanÄ±n, fÉ™rqi yoxdur harada.",
      "SÉ™n gÃ¼lÉ™ndÉ™, mÉ™nim iÃ§imdÉ™ki bÃ¼tÃ¼n qaranlÄ±q iÅŸÄ±qlanÄ±r.",
      "SÉ™n gÉ™lÉ™ndÉ™n sonra, 'Ã§ox ÅŸÃ¼kÃ¼r' sÃ¶zÃ¼nÃ¼ daha Ã§ox iÅŸlÉ™dirÉ™m.",
      "SÉ™nin varlÄ±ÄŸÄ±n mÉ™nÉ™ hÉ™r gÃ¼nÉ™ dÉ™yÉ™r verir.",
      "SÉ™nin sÉ™sini eÅŸidÉ™ndÉ™, É™n yorÄŸun gÃ¼nÃ¼m belÉ™ tÉ™tilÉ™ Ã§evrilir.",
      "SÉ™ni sevmÉ™k mÉ™nim hÉ™yatÄ±mÄ±n É™n gÃ¶zÉ™l vÉ™rdiÅŸidir."
    ];
    function showCompliment(){
      const el = document.getElementById('compliment-text');
      if(!el) return;
      el.textContent = compliments[Math.floor(Math.random() * compliments.length)];
      showToast("âœ¨ Yeni kompliment");
    }
    window.showCompliment = showCompliment;

    // Typing subtitle
    const subtitlePhrases = [
      "SÉ™ninlÉ™ baÅŸlayan hekayÉ™m...",
      "Bir ayda Ã¶yrÉ™ÅŸdiyim É™n gÃ¶zÉ™l vÉ™rdiÅŸim â€“ SÆN â¤ï¸",
      "HÉ™r gÃ¼nÃ¼mÃ¼n É™n sevimli hissÉ™si: sÉ™ndÉ™n gÉ™lÉ™n mesaj.",
      "Bu sÉ™hifÉ™ kimi, hÉ™r sÉ™hifÉ™mizin fonu sÉ™nlÉ™ iÅŸÄ±qlanÄ±r."
    ];
    let subtitleIndex = 0, charIndex = 0;
    const subtitleEl = document.getElementById('main-subtitle');
    function typeSubtitle(){
      if(!subtitleEl) return;
      const phrase = subtitlePhrases[subtitleIndex];
      subtitleEl.textContent = phrase.slice(0, charIndex);
      charIndex++;
      if(charIndex <= phrase.length){
        setTimeout(typeSubtitle, 70);
      }else{
        setTimeout(() => {
          charIndex = 0;
          subtitleIndex = (subtitleIndex + 1) % subtitlePhrases.length;
          typeSubtitle();
        }, 1800);
      }
    }
    typeSubtitle();

    // Scroll
    const scrollBtn = document.getElementById('scrollTopBtn');
    const progressBar = document.getElementById('scroll-progress-bar');
    let ticking = false;

    function handleScrollCore(){
      const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
      if(progressBar) progressBar.style.width = scrolled + '%';
      if(scrollBtn){
        if(scrollTop > 220) scrollBtn.classList.add('show');
        else scrollBtn.classList.remove('show');
      }
      ticking = false;
    }
    function handleScroll(){
      if(!ticking){
        ticking = true;
        requestAnimationFrame(handleScrollCore);
      }
    }
    function scrollToTop(){ window.scrollTo({ top: 0, behavior: 'smooth' }); }
    window.scrollToTop = scrollToTop;
    window.addEventListener('scroll', handleScroll, { passive:true });
    handleScrollCore();

    // Notes save
    const personalNote = document.getElementById('personal-note');
    if(personalNote){
      const savedNote = localStorage.getItem('personalNote');
      if(savedNote) personalNote.value = savedNote;
      personalNote.addEventListener('input', () => { localStorage.setItem('personalNote', personalNote.value); });
    }

    // Snow modes
    const WEATHER_KEY = "weatherModeIndex";
    const weatherBtn = document.getElementById("weatherBtn");
    const snowLayer = document.getElementById("snowLayer");

    const weatherModes = [
      { name: "Normal", emoji: "ğŸŒ¨ï¸", className: "mode-normal", flakes: perf.low ? 20 : 55, minDur: 12, maxDur: 26, drift: 26 },
      { name: "Romantik", emoji: "ğŸŒ™", className: "mode-romantic", flakes: perf.low ? 28 : 80, minDur: 11, maxDur: 24, drift: 36 },
      { name: "Qar fÄ±rtÄ±nasÄ±", emoji: "â„ï¸", className: "mode-storm", flakes: perf.low ? 45 : 120, minDur: 8, maxDur: 16, drift: 90 }
    ];

    function buildSnow(mode){
      if(!snowLayer) return;
      snowLayer.innerHTML = "";
      const frag = document.createDocumentFragment();
      for(let k=0;k<mode.flakes;k++){
        const s = document.createElement("span");
        s.className = "snowflake";
        const size = Math.random() * 5 + 2;
        const left = Math.random() * 100;
        const opacity = 0.30 + Math.random() * 0.70;
        const dur = mode.minDur + Math.random() * (mode.maxDur - mode.minDur);
        const delay = -Math.random() * dur;
        const drift = (Math.random() - 0.5) * mode.drift;
        s.style.width = size + "px";
        s.style.height = size + "px";
        s.style.left = left + "vw";
        s.style.opacity = opacity.toFixed(2);
        s.style.animationDuration = dur.toFixed(2) + "s";
        s.style.animationDelay = delay.toFixed(2) + "s";
        s.style.setProperty("--drift", drift.toFixed(0) + "px");
        frag.appendChild(s);
      }
      snowLayer.appendChild(frag);
    }

    function setWeatherMode(index, silent=false){
      const i = ((index % weatherModes.length) + weatherModes.length) % weatherModes.length;
      localStorage.setItem(WEATHER_KEY, String(i));

      document.body.classList.remove("mode-normal","mode-romantic","mode-storm");
      document.body.classList.add(weatherModes[i].className);

      if(weatherBtn) weatherBtn.textContent = `${weatherModes[i].emoji} ${weatherModes[i].name}`;
      buildSnow(weatherModes[i]);
      if(!silent) showToast(`${weatherModes[i].emoji} ${weatherModes[i].name}`);
    }

    if(weatherBtn){
      weatherBtn.addEventListener("click", () => {
        const cur = parseInt(localStorage.getItem(WEATHER_KEY) || "0", 10);
        setWeatherMode(cur + 1);
      });
    }
    const savedWeather = parseInt(localStorage.getItem(WEATHER_KEY) || "0", 10);
    setWeatherMode(savedWeather, true);

    // Intro
    (function(){
      const overlay = document.getElementById('introOverlay');
      if(!overlay) return;

      const seen = localStorage.getItem('introSeen') === 'true';

      function showIntro(){
        overlay.style.display = 'grid';
        overlay.setAttribute('aria-hidden', 'false');
        document.body.classList.add('intro-lock');
      }
      function hideIntro(){
        overlay.style.opacity = '0';
        overlay.style.transition = 'opacity .30s ease';
        setTimeout(() => {
          overlay.style.display = 'none';
          overlay.setAttribute('aria-hidden', 'true');
          document.body.classList.remove('intro-lock');
        }, 320);
      }

      window.__introStart = function(withMusic){
        localStorage.setItem('introSeen', 'true');

        musicOn = !!withMusic;
        localStorage.setItem('musicOn', musicOn ? 'true' : 'false');
        updateMusicUI(musicOn);
        if(music && musicOn) music.play().catch(()=>{});
        if(music && !musicOn) music.pause();

        hideIntro();
        showToast("âœ¨ XoÅŸ gÉ™ldin!");
      };

      if(seen){
        overlay.style.display = 'none';
        overlay.setAttribute('aria-hidden', 'true');
      }else{
        showIntro();
      }
    })();

    // Secret state (FIX: auto-aÃ§Ä±lma olmasÄ±n)
    document.addEventListener('DOMContentLoaded', () => {
      // É™vvÉ™lki versiyadan qalma flag varsa tÉ™mizlÉ™
      try{ localStorage.removeItem('secretOpened'); }catch(e){}
      const msg = document.getElementById('secret-message');
      if(msg) msg.classList.add('hidden');
    });

    /* âœ… EN ÆSAS FIX: 1 saniyÉ™yÉ™ bÃ¼tÃ¼n reveal-larÄ± gÃ¶stÉ™r (observer fails olsa da) */
    setTimeout(() => {
      document.querySelectorAll('.reveal').forEach(el => el.classList.add('show'));
    }, 800);

    /* Bonus: observer iÅŸlÉ™sÉ™ daha smooth */
    (function(){
      if(!('IntersectionObserver' in window)) return;
      const items = document.querySelectorAll(".reveal");
      const io = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if(e.isIntersecting){
            e.target.classList.add("show");
            io.unobserve(e.target);
          }
        });
      }, { threshold: 0.12 });
      items.forEach(el => io.observe(el));
    })();

    /* Hearts (low perf-dÉ™ sÃ¶ndÃ¼r) */
    if(!perf.low){
      setInterval(() => {
        const heart = document.createElement('div');
        heart.classList.add('floating-heart');
        heart.innerHTML = 'â¤ï¸';
        heart.style.left = Math.random()*100 + 'vw';
        heart.style.animationDuration = (Math.random()*3 + 6) + 's';
        heart.style.fontSize = (Math.random()*18 + 10) + 'px';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 8500);
      }, 1400);
    }
  </script>
</body>
</html>

